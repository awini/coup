## Краткий туториал

### Что имеем?
Код на **Python**, который нужно перевести в **JS**. Возьмем для примера самописную функцию вычисления факториала:

```Python
def fact(num):
    rval = 1
    i = 2
    while i <= num:
        rval = rval * i
        i += 1
    return rval
```

### Как будем делать ?
Разница между простыми инструкциями **Python** и **Javascript** не так велика.
Попробуем описать недостающие соответствия:

1. Умножение:
```
<EXP> * <EXP>     >>>   <EXP> * <EXP>    >>>   Multiply
```
    В обоих языках эта инструкция выглядит одинаково. Однако для того, чтобы перевод состоялся, необходимо это соответствие задать.

Обратите внимание, что словом `<EXP>` обозначаем место, где может быть вложенная инструкция.

Словом **Multiply** мы назвали это соответствие. Каждому соответствию требуется давать имя - имена используются при отладке, а также позволяют задавать взаимодействия между конкретными соответствиями.

2. Меньше-равно и вывод результата функции задаются аналогично:
```
<EXP> <= <EXP>    >>>   <EXP> <= <EXP>   >>>   Lower
return <EXP>      >>>   return <EXP>     >>>   ReturnVal
```
3. Цикл **while**:
```
while <EXP>:      >>>   while (<EXP>) {  >>>   While
```
В **Python** нет круглых скобок, а начало вложенного блока ознаменовывается двоеточием.
В **Javascript** же начало блока обозначается фигурной скобкой.

Идем далее.

4. Создание функции с 1 аргументом:
```
def <EXP:+NAME>(<EXP:+NAME>):   >>>   function <EXP:+NAME>(<EXP:+NAME>) {   >>>   func_1 | locals = {}
```
    Здесь <EXP:+NAME> изначает создание имени (или локальной переменной).
    Таким образом в этом месте может быть только конструкция без спецсимволов и пустот.
    И при обнаружении такой конструкции в словарь локальных переменных будет добавлено найденное имя.

Также справа от имени соответствия **func_1** здесь мы задали настройки этого соответствия.
Мы поставили символ **|** и справа от него задали стартовое значение аттрибуту **locals**.
Таким образом мы дали понять библиотеке, что у функции есть локальная область видимости.


5. Запуск функции с 1 аргументом:
```
<EXP>(<EXP>)   >>>   <EXP>(<EXP>)        >>>   func_start_1
```
    Такая конструкция работает для нашей цели потому, что не найдя другой более подходящей инструкции,
    библиотека проверяет эту инструкцию и получает положительный результат. Дело в том, что в <EXP>
    может быть подставлено имя локальной переменной, если такая существует. Заметьте, что предыдущим шагом
    мы обозначили добавление имени функции в локальные переменные, что и помогает здесь.

Ну и для завершения перевода:

7. Вывод на экран:
```
print(<EXP>)   >>>   console.log(<EXP>)  >>>   Print
```

Хорошо, самое время создать тестовый файл **tst.py**. Добавим в него следующий код:

```python
from coup.common.url import think

Py2Js = think('''
    @:extends:Common
    @langs
    def <EXP:+NAME>(<EXP:+NAME>):       >>>     function <EXP:+NAME>(<EXP:+NAME>) {         >>>     >>>     func_1          | locals = {}
    def <EXP:+NAME>(<EXP:+NAMES_LIST>): >>>     function <EXP:+NAME>(<EXP:+NAMES_LIST>) {   >>>     >>>     func_2          | locals = {}
    <EXP>(<EXP>)                        >>>     <EXP>(<EXP>)                                >>>     >>>     func_start_1
    <EXP>(<EXP:LIST>)                   >>>     <EXP>(<EXP:LIST>)                           >>>     >>>     func_start_2
    while <EXP>:                        >>>     while (<EXP>) {                             >>>     >>>     While
    <EXP> <= <EXP>                      >>>     <EXP> <= <EXP>                              >>>     >>>     Lower
    <EXP> * <EXP>                       >>>     <EXP> * <EXP>                               >>>     >>>     Mnoz
    return <EXP>                        >>>     return <EXP>                                >>>     >>>     ReturnVal
    print(<EXP>)                        >>>     console.log(<EXP>)                          >>>     >>>     Print
    ''', lang='Javascript')
out = Py2Js.translate('', remove_space_lines=True)
```
Выведем на экран результат:
```python
print(out)
```

И увидим, каким получился наш перевод:

 ```Javascript
 function fact(num)
 {
    var rval = 1
    var i = 2
    while (i <= num)
    {
        rval = rval * i
        i += 1
    }
    return rval
}
```

### А если кода много, очень много? 
Время, пицца и хорошая музыка ;)

Прочитай краткую инструкцию по функционалу https://github.com/awini/coup/blob/master/doc/instuction.md

